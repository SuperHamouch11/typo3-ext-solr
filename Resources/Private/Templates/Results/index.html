{namespace solr=Tx_Solr_ViewHelpers}
<div id="tx-solr-search">

	<!-- search form -->
	<!-- TODO: Accept charset -->
	<f:form id="tx-solr-search-form" action="index" method="GET">
		<input type="hidden" name="id" value="{targetPageId}" />
		<f:translate key="searchWord" /> <f:form.textbox id="tx-solr-q" name="q" value="{q}" />
		
		<f:form.submit value="{f:translate(key='submit')}" />
	</f:form>

	<f:if condition="{hasSearched}">
		<f:translate key="results_searched_for" arguments="{0: q}" />
		

		<f:if condition="{search.numberOfResults} > 0">
			<f:then>
				<solr:pageBrowser numberOfResults="{search.numberOfResults}" resultsPerPage="{settings.search.results.resultsPerPage}" pageBrowserConfiguration="{settings.search.results.pagebrowser}" />
				<ul class="results-list">
					<f:for each="{search.response.docs}"  as="document">
						<li class="results-entry" style="background-color: transparent;">
							<h5 class="results-topic"><!-- insert result number --><a href="{solr:output('url' document='{document}')}"><solr:output document="{document}">title</solr:output></a></h5>
							<div class="results-teaser">
								<p><solr:output document="{document}">content</solr:output></p>
								<p>Score: <em><solr:output document="{document}">score</solr:output></em></p>
						</div>
					</li>
					</f:for>
				</ul>
				<solr:pageBrowser numberOfResults="{search.numberOfResults}" resultsPerPage="{settings.search.results.resultsPerPage}" pageBrowserConfiguration="{settings.search.results.pagebrowser}" />
			</f:then>
			<f:else>
				<f:translate key="no_results_nothing_found" />
			</f:else>
			
		</f:if>
	</f:if>
</div>
<div id="tx-solr-search-functions">
<f:if condition="{hasSearched}">
	<f:if condition="{search.numberOfResults} > 0">
		<f:render partial="faceting" arguments="{search:search, settings:settings}" />
		<f:render partial="sorting" arguments="{search:search, settings:settings}" />
	</f:if>
</f:if>
</div>
